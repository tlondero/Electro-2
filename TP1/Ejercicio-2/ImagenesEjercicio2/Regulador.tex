\input{Header-Stda.tex}

\begin{document}

%Circuito a color
\begin{page}
\begin{circuitikz}[european voltages]

	%Amplificador error
	\node[color = blue] [op amp, yscale=-1](A){};
	\draw[color = blue]
		(A.+) -- ++(-1,0) node[ground](g1){}
		(A.down) -- ++ (0,0.5) node[ocirc, label=north:$V^{-}$](){}    
		(A.up) -- ++ (0,-0.5) node[ocirc, label=south:$V^{+}$](){}
		(A.-) -- ++ (0,-2.55) node[ocirc](aux1){}
		(A.out) -- ++ (1,0) node[ocirc](aux2){}
		;
		
	%Circuito de protecci贸n
	\draw[color = orange]
		(aux2.south) |- ++ (2,-2) node[npn, anchor=C, rotate = 90, xscale=-1, label=below:$Q_3$](Q3){}
		(Q3.B) -- ++(0,1.16) to[R, l_=$R_C$] ++ (-2,0) node[ground](){}
		(Q3.E) -- ++(1.5,0) node[](aux4){} to[R, l_=$R_A$] ++ (0,2) node[](aux3){} to[R, l_=$R_B$] ++ (-2,0) -| (Q3.B)
		(aux4.center) -- ++ (0,-1) node[ocirc](aux6){}		
		;
		
	%Transistor de paso
	\draw[color = olive]
		(aux2.north) -- ++ (0,4) node[npn, anchor = B, label=right:$Q_1$](Q1){}
		(Q1.E) -- ++ (2.15,0) node[npn, anchor = B, label=north:$Q_2$](Q2){}
		(Q2.B) -- ++ (1.2,0) node[npn, anchor = B, label=north:$Q_3$](Q3){}
		
		($ (Q1.E) !.5! (Q2.B) $) to[R, l=$R_5$] ++(0,-2) |- ($ (Q3.E) !.5! (aux3) $)% -| (aux3.center)
		(Q2.E) -| (aux3.center)
		(Q1.C) -- ++ (0,1) node[ocirc](aux5){}
		(Q2.C) |- (aux5.east)
		(aux5) ++ (2,0) -| (Q3.C)
		;
				
	%Circuito de detecci贸n (Realimentador)
	\draw[color = purple]
		(aux6.west) to[R, l_=$R_1$] (aux1.east)
		;
		
	%Elemento de referencia
	\draw[color = red]
		(aux1.west) to[R, l_=$R_2$] ++ (-2,0) node[](aux7){} to[R, l_=$R_Z$] ++ (-2,0) node[ocirc](aux8){}
		(aux7.center) to[zzDo] ++ (0,-1.5) node[ground](){}
		;
	
	%Fuentes
	\draw
		(aux8.north) to[open] ++ (0,4.5) node[](aux9){} -- ++ (1,0) node[ground](){}
		(aux9.center) to[battery2, l_=$V^{-}$] (aux8.north)
		(aux9.center) ++ (0,3) to[battery2, l_=$V^{+}$] ++ (0,-3) ++ (0,3) |- (aux5.west)

		;	
	
	
	%Carga
	\draw[color = brown]
		(aux6.south) to[R, l=$R_L$] ++ (0,-2) node[ground](){}
		;		
\end{circuitikz}
\end{page}

%FOLDBACK
\begin{page}
\begin{circuitikz}[european voltages]
	\node [circ, label=$V_A$](aux1){};
	\draw
		to[R, l=$R_A$] ++ (2,0) node[circ, label=$V_O$](aux3){} -- ++(0,-1.225) node[npn, anchor=E, yscale=-1, label=right:$T_P$](tp){}
		(aux1) -- ++ (-1,0) node[npn, anchor=E, rotate=90, label=$T_1$](t1){}
		(aux1) to[R, l_=$R_B$] ++ (0,-2) node[circ, label=left:$V_B$](aux2){} to[R, l_=$R_C$] ++ (0,-1.5
) node[ground](){}
		(tp.B) -- (aux2)
		(t1.B) -- ++ (0,-4) -| (tp.C)
		(aux2) ++ (1,1) node[](malla){}
		;
	\draw[dashed]
		(t1.C) -- ++ (-1,0)
		(aux3.center) -- ++ (1,0)
		;
	\draw[->,shift={(malla)}] (210:.7cm) arc (210:-30:.7cm) node at(0,0){};
\end{circuitikz}
\end{page}

%LINEAL
\begin{page}
\begin{circuitikz}[european voltages]
	\node [circ](aux1){};
	\draw
		to[R, l=$R_A$] ++ (2,0) node[circ](aux2){} -- ++(0,-0.5) node[npn, anchor=E, yscale=-1, label=right:$T_P$](tp){}
		(tp.B) -| (aux1) node[npn, anchor=E, rotate=90, label=$T_1$](t1){}
		(t1.B) |- (tp.C)		
		;
	\draw[dashed]
		(t1.C) -- ++ (-1,0)
		(aux2.center) -- ++ (1,0)
		;
\end{circuitikz}
\end{page}

%Circuito BN
\begin{page}
\begin{circuitikz}[european voltages]

	%Amplificador error
	\node [op amp, yscale=-1](A){};
	\draw
		(A.+) -- ++(-1,0) node[ground](g1){}
		(A.down) -- ++ (0,0.5) node[ocirc, label=north:$V^{-}$](){}    
		(A.up) -- ++ (0,-0.5) node[ocirc, label=south:$V^{+}$](){}
		(A.-) -- ++ (0,-2.55) node[ocirc](aux1){}
		(A.out) -- ++ (1,0) node[ocirc](aux2){}
		;
		
	%Circuito de protecci贸n
	\draw
		(aux2.south) |- ++ (2,-2) node[npn, anchor=C, rotate = 90, xscale=-1, label=below:$Q_3$](Q3){}
		(Q3.B) -- ++(0,1.16) to[R, l_=$R_C$] ++ (-2,0) node[ground](){}
		(Q3.E) -- ++(1.5,0) node[](aux4){} to[R, l_=$R_A$] ++ (0,2) node[](aux3){} to[R, l_=$R_B$] ++ (-2,0) -| (Q3.B)
		(aux4.center) -- ++ (0,-1) node[ocirc](aux6){}		
		;
		
	%Transistor de paso
	\draw
		(aux2.north) -- ++ (0,4) node[npn, anchor = B, label=right:$Q_1$](Q1){}
		(Q1.E) -- ++ (2.15,0) node[npn, anchor = B, label=north:$Q_2$](Q2){}
		(Q2.B) -- ++ (1.2,0) node[npn, anchor = B, label=north:$Q_3$](Q3){}
		
		($ (Q1.E) !.5! (Q2.B) $) to[R, l=$R_5$] ++(0,-2) |- ($ (Q3.E) !.5! (aux3) $)% -| (aux3.center)
		(Q2.E) -| (aux3.center)
		(Q1.C) -- ++ (0,1) node[ocirc](aux5){}
		(Q2.C) |- (aux5.east)
		(aux5) ++ (2,0) -| (Q3.C)
		;
				
	%Circuito de detecci贸n (Realimentador)
	\draw
		(aux6.west) to[R, l_=$R_1$] (aux1.east)
		;
		
	%Elemento de referencia
	\draw
		(aux1.west) to[R, l_=$R_2$] ++ (-2,0) node[](aux7){} to[R, l_=$R_Z$] ++ (-2,0) node[ocirc](aux8){}
		(aux7.center) to[zzDo] ++ (0,-1.5) node[ground](){}
		;
	
	%Fuentes
	\draw
		(aux8.north) to[open] ++ (0,4.5) node[](aux9){} -- ++ (1,0) node[ground](){}
		(aux9.center) to[battery2, l_=$V^{-}$] (aux8.north)
		(aux9.center) ++ (0,3) to[battery2, l_=$V^{+}$] ++ (0,-3) ++ (0,3) |- (aux5.west)

		;	
	
	
	%Carga
	\draw
		(aux6.south) to[R, l=$R_L$] ++ (0,-2) node[ground](){}
		;		
\end{circuitikz}
\end{page}

\end{document}